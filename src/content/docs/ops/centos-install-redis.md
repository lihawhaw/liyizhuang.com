---
nav:
  title: è¿ç»´
  order: 2
group:
  title: æœåŠ¡å™¨é…ç½®
  order: 2
title: Install redis
---

# CentOS Install redis

ä¸‹è½½rediså®‰è£…åŒ…ï¼š<https://wwi.lanzoup.com/i6LSP13ynrkj>

# å•æœºå®‰è£…Redis

## 1.1.å®‰è£…Redisä¾èµ–

Redisæ˜¯åŸºäºCè¯­è¨€ç¼–å†™çš„ï¼Œå› æ­¤é¦–å…ˆéœ€è¦å®‰è£…Redisæ‰€éœ€è¦çš„gccä¾èµ–ï¼š

```sh
yum install -y gcc tcl
```

## 1.2.ä¸Šä¼ å®‰è£…åŒ…å¹¶è§£å‹

ä¾‹å¦‚ï¼Œæˆ‘æ”¾åˆ°äº†/usr/local/src ç›®å½•

è§£å‹ç¼©ï¼š

```sh
cd /usr/local/src
tar -xzf redis-6.2.6.tar.gz
```

è§£å‹åï¼Œè¿›å…¥redisç›®å½•ï¼š

```sh
cd redis-6.2.6
```

è¿è¡Œç¼–è¯‘å‘½ä»¤ï¼š

```sh
make && make install
```

å¦‚æœæ²¡æœ‰å‡ºé”™ï¼Œåº”è¯¥å°±å®‰è£…æˆåŠŸäº†ã€‚

é»˜è®¤çš„å®‰è£…è·¯å¾„æ˜¯åœ¨ `/usr/local/bin`ç›®å½•ä¸‹

è¯¥ç›®å½•ä»¥åŠé»˜è®¤é…ç½®åˆ°ç¯å¢ƒå˜é‡ï¼Œå› æ­¤å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹è¿è¡Œè¿™äº›å‘½ä»¤ã€‚å…¶ä¸­ï¼š

- redis-cliï¼šæ˜¯redisæä¾›çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯
- redis-serverï¼šæ˜¯redisçš„æœåŠ¡ç«¯å¯åŠ¨è„šæœ¬
- redis-sentinelï¼šæ˜¯redisçš„å“¨å…µå¯åŠ¨è„šæœ¬

## 1.3.å¯åŠ¨

redisçš„å¯åŠ¨æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ï¼š

- é»˜è®¤å¯åŠ¨
- æŒ‡å®šé…ç½®å¯åŠ¨
- å¼€æœºè‡ªå¯

### 1.3.1.é»˜è®¤å¯åŠ¨

å®‰è£…å®Œæˆåï¼Œåœ¨ä»»æ„ç›®å½•è¾“å…¥redis-serverå‘½ä»¤å³å¯å¯åŠ¨Redisï¼š

```
redis-server
```

ä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¨èå»rediså®‰è£…ç›®å½•è¿è¡Œè¯¥å‘½ä»¤ã€‚

è¿™ç§å¯åŠ¨å±äº`å‰å°å¯åŠ¨`ï¼Œä¼šé˜»å¡æ•´ä¸ªä¼šè¯çª—å£ï¼Œçª—å£å…³é—­æˆ–è€…æŒ‰ä¸‹`CTRL + C`åˆ™Redisåœæ­¢ã€‚ä¸æ¨èä½¿ç”¨ã€‚

### 1.3.2.æŒ‡å®šé…ç½®å¯åŠ¨

å¦‚æœè¦è®©Redisä»¥`åå°`æ–¹å¼å¯åŠ¨ï¼Œåˆ™å¿…é¡»ä¿®æ”¹Redisé…ç½®æ–‡ä»¶ï¼Œå°±åœ¨æˆ‘ä»¬ä¹‹å‰è§£å‹çš„rediså®‰è£…åŒ…ä¸‹ï¼ˆ`/usr/local/src/redis-6.2.6`ï¼‰ï¼Œåå­—å«redis.confï¼š

æˆ‘ä»¬å…ˆå°†è¿™ä¸ªé…ç½®æ–‡ä»¶å¤‡ä»½ä¸€ä»½ï¼š

```
cp redis.conf redis.conf.bck
```

ç„¶åä¿®æ”¹redis.confæ–‡ä»¶ä¸­çš„ä¸€äº›é…ç½®ï¼š

````properties
# å…è®¸è®¿é—®çš„åœ°å€ï¼Œé»˜è®¤æ˜¯127.0.0.1ï¼Œä¼šå¯¼è‡´åªèƒ½åœ¨æœ¬åœ°è®¿é—®ã€‚ä¿®æ”¹ä¸º0.0.0.0åˆ™å¯ä»¥åœ¨ä»»æ„IPè®¿é—®ï¼Œç”Ÿäº§ç¯å¢ƒä¸è¦è®¾ç½®ä¸º0.0.0.0
bind 0.0.0.0
# å®ˆæŠ¤è¿›ç¨‹ï¼Œä¿®æ”¹ä¸ºyesåå³å¯åå°è¿è¡Œ
daemonize yes
# å¯†ç ï¼Œè®¾ç½®åè®¿é—®Rediså¿…é¡»è¾“å…¥å¯†ç 
requirepass 123321


Redisçš„å…¶å®ƒå¸¸è§é…ç½®ï¼š

```properties
# ç›‘å¬çš„ç«¯å£
port 6379
# å·¥ä½œç›®å½•ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•ï¼Œä¹Ÿå°±æ˜¯è¿è¡Œredis-serveræ—¶çš„å‘½ä»¤ï¼Œæ—¥å¿—ã€æŒä¹…åŒ–ç­‰æ–‡ä»¶ä¼šä¿å­˜åœ¨è¿™ä¸ªç›®å½•
dir .
# æ•°æ®åº“æ•°é‡ï¼Œè®¾ç½®ä¸º1ï¼Œä»£è¡¨åªä½¿ç”¨1ä¸ªåº“ï¼Œé»˜è®¤æœ‰16ä¸ªåº“ï¼Œç¼–å·0~15
databases 1
# è®¾ç½®redisèƒ½å¤Ÿä½¿ç”¨çš„æœ€å¤§å†…å­˜
maxmemory 512mb
# æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºç©ºï¼Œä¸è®°å½•æ—¥å¿—ï¼Œå¯ä»¥æŒ‡å®šæ—¥å¿—æ–‡ä»¶å
# ä¿å­˜åœ°å€åŒdir
logfile "redis.log"
````

å¯åŠ¨Redisï¼š

```sh
# è¿›å…¥rediså®‰è£…ç›®å½•
cd /usr/local/src/redis-6.2.6
# å¯åŠ¨
redis-server redis.conf
# æµ‹è¯•æ˜¯å¦å¯åŠ¨
ps -ef | grep redis
# æ€æ­»redisè¿›ç¨‹
kill -9 è¿›ç¨‹id
```

åœæ­¢æœåŠ¡ï¼š

```sh
# åˆ©ç”¨redis-cliæ¥æ‰§è¡Œ shutdown å‘½ä»¤ï¼Œå³å¯åœæ­¢ Redis æœåŠ¡ï¼Œ
# å› ä¸ºä¹‹å‰é…ç½®äº†å¯†ç ï¼Œå› æ­¤éœ€è¦é€šè¿‡ -u æ¥æŒ‡å®šå¯†ç 
redis-cli -u 123321 shutdown
```

### 1.3.3.å¼€æœºè‡ªå¯

> åœ¨è¿›è¡Œä»¥ä¸‹é…ç½®ä¹‹å‰ï¼ŒåŠ¡å¿…æ€æ­»redisè¿›ç¨‹ï¼

æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ¥å®ç°å¼€æœºè‡ªå¯ã€‚

é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªç³»ç»ŸæœåŠ¡æ–‡ä»¶ï¼š

```sh
vim /etc/systemd/system/redis.service
```

å†…å®¹å¦‚ä¸‹ï¼š

```txt
[Unit]
Description=redis-server
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```

ç„¶åé‡è½½ç³»ç»ŸæœåŠ¡ï¼š

```sh
systemctl daemon-reload
```

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢è¿™ç»„å‘½ä»¤æ¥æ“ä½œredisäº†ï¼š

```sh
# å¯åŠ¨
systemctl start redis
# åœæ­¢
systemctl stop redis
# é‡å¯
systemctl restart redis
# æŸ¥çœ‹çŠ¶æ€
systemctl status redis
```

æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥è®©rediså¼€æœºè‡ªå¯ï¼š

```sh
systemctl enable redis
```

# 2.Rediså®¢æˆ·ç«¯

å®‰è£…å®ŒæˆRedisï¼Œæˆ‘ä»¬å°±å¯ä»¥æ“ä½œRedisï¼Œå®ç°æ•°æ®çš„CRUDäº†ã€‚è¿™éœ€è¦ç”¨åˆ°Rediså®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬ï¼š

- å‘½ä»¤è¡Œå®¢æˆ·ç«¯
- å›¾å½¢åŒ–æ¡Œé¢å®¢æˆ·ç«¯
- ç¼–ç¨‹å®¢æˆ·ç«¯

## 2.1.Rediså‘½ä»¤è¡Œå®¢æˆ·ç«¯

Rediså®‰è£…å®Œæˆåå°±è‡ªå¸¦äº†å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼šredis-cliï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š

```sh
redis-cli [options] [commonds]
```

å…¶ä¸­å¸¸è§çš„optionsæœ‰ï¼š

- `-h 127.0.0.1`ï¼šæŒ‡å®šè¦è¿æ¥çš„redisèŠ‚ç‚¹çš„IPåœ°å€ï¼Œé»˜è®¤æ˜¯127.0.0.1
- `-p 6379`ï¼šæŒ‡å®šè¦è¿æ¥çš„redisèŠ‚ç‚¹çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯6379
- `-a 123321`ï¼šæŒ‡å®šredisçš„è®¿é—®å¯†ç 

å…¶ä¸­çš„commondså°±æ˜¯Redisçš„æ“ä½œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼š

- `ping`ï¼šä¸redisæœåŠ¡ç«¯åšå¿ƒè·³æµ‹è¯•ï¼ŒæœåŠ¡ç«¯æ­£å¸¸ä¼šè¿”å›`pong`

ä¸æŒ‡å®šcommondæ—¶ï¼Œä¼šè¿›å…¥`redis-cli`çš„äº¤äº’æ§åˆ¶å°

## 2.2.å›¾å½¢åŒ–æ¡Œé¢å®¢æˆ·ç«¯

GitHubä¸Šçš„å¤§ç¥ç¼–å†™äº†Redisçš„å›¾å½¢åŒ–æ¡Œé¢å®¢æˆ·ç«¯ï¼Œåœ°å€ï¼š[qishibo/AnotherRedisDesktopManager: ğŸš€ğŸš€ğŸš€A faster, better and more stable Redis desktop manager [GUI client\], compatible with Linux, Windows, Mac. (github.com)](https://github.com/qishibo/AnotherRedisDesktopManager/)

æ‰“å¼€è½¯ä»¶ï¼Œé€‰æ‹©æ–°å»ºè¿æ¥ï¼Œè¾“å…¥æœåŠ¡å™¨IPåœ°å€å’Œrediså¯†ç å³å¯è¿æ¥Redis

# End
